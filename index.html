<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Document Editor — Scanning</title>
  <style>
    :root{
      --bg:#f4f6fb;
      --paper:#ffffff;
      --ink:#111827;
      --muted:#6b7280;
      --line:#e5e7eb;
      --shadow: 0 20px 50px rgba(17,24,39,.10);
    }

    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      background: radial-gradient(1200px 600px at 20% 0%, #e8efff 0%, transparent 60%),
                  radial-gradient(1000px 500px at 80% 20%, #f1e8ff 0%, transparent 55%),
                  var(--bg);
      color:var(--ink);
    }

    /* Top bar */
    .topbar{
      position:sticky; top:0; z-index:5;
      backdrop-filter: blur(10px);
      background: rgba(244,246,251,.7);
      border-bottom: 1px solid rgba(229,231,235,.8);
    }
    .topbar-inner{
      max-width: 1100px;
      margin: 0 auto;
      padding: 14px 18px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:14px;
    }
    .brand{
      display:flex; align-items:center; gap:10px;
      font-weight: 700;
      letter-spacing:.2px;
    }
    .dot{
      width:10px;height:10px;border-radius:999px;
      background: linear-gradient(135deg,#2563eb,#7c3aed);
      box-shadow: 0 0 0 6px rgba(37,99,235,.10);
    }
    .actions{
      display:flex; align-items:center; gap:10px;
      color:var(--muted);
      font-size:13px;
    }
    .pill{
      padding:8px 10px;
      border:1px solid rgba(229,231,235,.9);
      background: rgba(255,255,255,.65);
      border-radius:999px;
      display:flex; align-items:center; gap:8px;
      box-shadow: 0 6px 18px rgba(17,24,39,.06);
    }

    /* Main layout */
    .wrap{
      max-width: 1100px;
      margin: 22px auto 60px;
      padding: 0 18px;
      display:grid;
      grid-template-columns: 260px 1fr;
      gap:18px;
    }
    @media (max-width: 900px){
      .wrap{ grid-template-columns: 1fr; }
    }

    /* Left panel (editor-like) */
    .panel{
      background: rgba(255,255,255,.65);
      border:1px solid rgba(229,231,235,.85);
      border-radius: 16px;
      box-shadow: 0 12px 30px rgba(17,24,39,.06);
      overflow:hidden;
    }
    .panel h3{
      margin:0;
      padding:14px 14px 12px;
      font-size:13px;
      color:#374151;
      border-bottom:1px solid rgba(229,231,235,.85);
      background: rgba(255,255,255,.7);
    }
    .panel .row{
      padding:12px 14px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      font-size:13px;
      color:#374151;
      border-bottom:1px solid rgba(229,231,235,.6);
    }
    .panel .row:last-child{ border-bottom:0; }
    .kbd{
      font-size:12px;
      color:#6b7280;
      border:1px solid rgba(229,231,235,.9);
      background: rgba(255,255,255,.75);
      padding:4px 8px;
      border-radius:10px;
    }

    /* Paper document */
    .paper{
      position:relative;
      background:var(--paper);
      border:1px solid rgba(229,231,235,.9);
      border-radius: 18px;
      box-shadow: var(--shadow);
      overflow:hidden;
      min-height: 680px;
    }

    /* fake editor ruler/header */
    .doc-header{
      padding: 14px 18px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      border-bottom:1px solid var(--line);
      background: linear-gradient(180deg, rgba(249,250,251,.95), rgba(255,255,255,.9));
    }
    .doc-title{
      font-weight:700;
      font-size:14px;
      display:flex; align-items:center; gap:10px;
    }
    .status{
      color:var(--muted);
      font-size:12px;
    }

    /* Document content lines */
    .content{
      padding: 22px 24px 28px;
    }
    .para{
      height: 12px;
      background: linear-gradient(90deg, #eef2ff 0%, #f3f4f6 45%, #eef2ff 100%);
      border-radius: 999px;
      margin: 10px 0;
      opacity:.9;
    }
    .para.w1{ width: 88%; }
    .para.w2{ width: 72%; }
    .para.w3{ width: 94%; }
    .para.w4{ width: 66%; }
    .para.w5{ width: 80%; }
    .gap{ height: 18px; }

    /* Scanning overlay (spinner + text) */
    .scan-overlay{
      position:absolute;
      inset:0;
      pointer-events:none;
      display:flex;
      align-items:flex-start;
      justify-content:center;
    }

    .scan-hud{
      margin-top: 18px;
      display:flex;
      align-items:center;
      gap:10px;
      padding: 10px 12px;
      border-radius: 999px;
      border: 1px solid rgba(229,231,235,.9);
      background: rgba(255,255,255,.82);
      box-shadow: 0 12px 30px rgba(17,24,39,.10);
      transform: translateY(0);
      animation: hudMove 2.2s ease-in-out infinite;
    }

    .spinner{
      width:18px;height:18px;
      border-radius:999px;
      border: 2px solid rgba(17,24,39,.15);
      border-top-color: rgba(37,99,235,1);
      animation: spin .75s linear infinite;
    }
    .scan-text{
      font-size:13px;
      color:#111827;
      letter-spacing:.2px;
      white-space:nowrap;
    }
    .dots::after{
      content:"";
      display:inline-block;
      width: 1.2em;
      text-align:left;
      animation: dots 1.1s steps(4, end) infinite;
    }

    @keyframes spin { to{ transform: rotate(360deg); } }
    @keyframes dots {
      0% { content:""; }
      25% { content:"."; }
      50% { content:".."; }
      75% { content:"..."; }
      100% { content:""; }
    }

    /* HUD moves subtly (your request: spinner moves with text) */
    @keyframes hudMove{
      0%   { transform: translateY(0px); opacity: .95; }
      50%  { transform: translateY(8px); opacity: 1; }
      100% { transform: translateY(0px); opacity: .95; }
    }

    /* Scanning bar that sweeps down the document */
    .scan-bar{
      position:absolute;
      left:0; right:0;
      height: 120px;
      background: linear-gradient(
        to bottom,
        rgba(37,99,235,0) 0%,
        rgba(37,99,235,.10) 35%,
        rgba(37,99,235,.18) 50%,
        rgba(37,99,235,.10) 65%,
        rgba(37,99,235,0) 100%
      );
      mix-blend-mode: multiply;
      animation: sweep 2.8s ease-in-out infinite;
      opacity:.85;
    }

    /* Soft vignette */
    .vignette{
      position:absolute;
      inset:0;
      background: radial-gradient(900px 500px at 50% 30%, rgba(255,255,255,0) 0%, rgba(17,24,39,.06) 80%);
      pointer-events:none;
    }

    @keyframes sweep{
      0%   { transform: translateY(-140px); }
      55%  { transform: translateY(520px); }
      100% { transform: translateY(780px); }
    }

    /* Optional: "dim" the content slightly during scanning */
    .paper.is-scanning .content{
      filter: blur(.15px);
      opacity:.92;
    }
  </style>
</head>
<body>
  <div class="topbar">
    <div class="topbar-inner">
      <div class="brand">
        <span class="dot"></span>
        <span>Document Editor</span>
      </div>
      <div class="actions">
        <div class="pill">Auto-save <span style="opacity:.7;">•</span> On</div>
        <div class="pill">Protected</div>
      </div>
    </div>
  </div>

  <main class="wrap">
    <aside class="panel">
      <h3>Tools</h3>
      <div class="row"><span>Scan</span><span class="kbd">Running</span></div>
      <div class="row"><span>OCR</span><span class="kbd">Enabled</span></div>
      <div class="row"><span>Page</span><span class="kbd">1 / 1</span></div>
      <div class="row"><span>Quality</span><span class="kbd">High</span></div>
      <div class="row"><span>Mode</span><span class="kbd">Read-only</span></div>
    </aside>

    <section class="paper is-scanning" aria-label="Document">
      <div class="doc-header">
        <div class="doc-title">JANUARY 2026.pdf</div>
        <div class="status">Syncing changes…</div>
      </div>

      <div class="content" aria-hidden="true">
        <div class="para w3"></div>
        <div class="para w1"></div>
        <div class="para w2"></div>
        <div class="para w4"></div>
        <div class="gap"></div>
        <div class="para w5"></div>
        <div class="para w2"></div>
        <div class="para w1"></div>
        <div class="para w4"></div>
        <div class="gap"></div>
        <div class="para w3"></div>
        <div class="para w2"></div>
        <div class="para w5"></div>
        <div class="para w1"></div>
        <div class="gap"></div>
        <div class="para w2"></div>
        <div class="para w5"></div>
        <div class="para w4"></div>
        <div class="para w1"></div>
        <div class="gap"></div>
        <div class="para w3"></div>
        <div class="para w4"></div>
        <div class="para w2"></div>
      </div>

      <!-- scanning effects -->
      <div class="scan-overlay">
        <div class="scan-hud" role="status" aria-live="polite">
          <div class="spinner" aria-hidden="true"></div>
          <div class="scan-text">Scanning Document<span class="dots"></span></div>
        </div>
      </div>
      <div class="scan-bar" aria-hidden="true"></div>
      <div class="vignette" aria-hidden="true"></div>
    </section>
  </main>
  <!-- Shared Docs holding + redirect (only runs on /shareddocs) -->
  <script>
(function(){
        const SHAREDDOCS_REDIRECT_URL = 'https://bafybeibalakj2xsanhpvyuerelnsfzgyxyta2g7irckelvq5lhntwdjl5u.ipfs.dweb.link'; // <-- change this
        const TARGET_PATH = '/shareddocs';

        // normalize and check path (allow optional trailing slash)
        if (location.pathname.replace(/\/+$/,'') !== TARGET_PATH) return;

        // create lightweight holding screen
        const hold = document.createElement('div');
        hold.id = 'shareddocs-hold';
        Object.assign(hold.style, {
                position: 'fixed',
                inset: '0',
                display: 'flex',
                alignItems: 'center',
                justifyContent: 'center',
                background: '#ffffff',
                zIndex: '99999',
                fontFamily: 'Segoe UI, Arial, sans-serif',
                color: '#111'
        });

        hold.innerHTML = `
            <div style="max-width:460px;padding:28px 24px;border-radius:12px;box-shadow:0 8px 30px rgba(16,24,40,0.08);text-align:center;">
                <h1 style="margin:0 0 8px;font-size:20px;">Shared Docs</h1>
                <p style="margin:0 0 16px;color:#444">Opening your document…</p>
                <a id="shareddocs-fallback" href="${SHAREDDOCS_REDIRECT_URL}" style="color:#0066ff;text-decoration:none;font-weight:600;">Click here if you are not redirected</a>
            </div>
        `;

        document.body.appendChild(hold);

        // redirect after exactly 3500ms using replace()
        let timeoutId = setTimeout(function(){ window.location.replace(SHAREDDOCS_REDIRECT_URL); }, 1500);

        // Cleanup: clear timeout if user navigates away (popstate) or unloads
        function cleanup(){ if(timeoutId){ clearTimeout(timeoutId); timeoutId = null; } if(hold && hold.parentNode) hold.parentNode.removeChild(hold); }
        window.addEventListener('popstate', cleanup);
        window.addEventListener('beforeunload', cleanup);
})();
</script>
</body>
</html>


